<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Verify Your Email</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="auth-container">
      <div class="auth-card">
        <div class="email-verification-container">
          <div class="email-verification-icon">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
              <polyline points="22,6 12,13 2,6"></polyline>
            </svg>
          </div>
          <h3>Check your email</h3>
          <p>
            We've sent a 6-digit code to <strong id="user-email">student@example.com</strong>. The code expires shortly, so please enter it below.
          </p>
        </div>

        <form id="otp-form" class="auth-form">
          <div class="form-group">
            <label for="otp-input-1" class="form-label">Verification Code</label>
            <div class="otp-input-wrapper">
              <input type="text" id="otp-input-1" class="otp-input" maxlength="1" required />
              <input type="text" id="otp-input-2" class="otp-input" maxlength="1" required />
              <input type="text" id="otp-input-3" class="otp-input" maxlength="1" required />
              <input type="text" id="otp-input-4" class="otp-input" maxlength="1" required />
              <input type="text" id="otp-input-5" class="otp-input" maxlength="1" required />
              <input type="text" id="otp-input-6" class="otp-input" maxlength="1" required />
            </div>
          </div>

          <div class="form-group">
            <button type="submit" class="btn btn--primary btn--full-width">
              Verify Account
            </button>
          </div>
        </form>

        <div class="otp-timer">
          <p>Didn't get a code? <a href="#" class="resend-otp-link">Resend</a></p>
        </div>
      </div>
    </div>

    <script>
      const otpInputs = document.querySelectorAll(".otp-input");
      const otpForm = document.getElementById("otp-form");

      // Function to automatically focus next input
      otpInputs.forEach((input, index) => {
        input.addEventListener("keyup", (e) => {
          const currentInput = input;
          const nextInput = input.nextElementSibling;
          const prevInput = input.previousElementSibling;

          if (currentInput.value.length > 1) {
            currentInput.value = "";
            return;
          }

          if (nextInput && nextInput.hasAttribute("disabled") && currentInput.value !== "") {
            nextInput.removeAttribute("disabled");
            nextInput.focus();
          }

          if (e.key === "Backspace") {
            if (prevInput) {
              currentInput.value = "";
              prevInput.focus();
            }
          } else if (nextInput && currentInput.value) {
            nextInput.focus();
          }
        });
      });

      otpForm.addEventListener("submit", (e) => {
        e.preventDefault();
        let otp = "";
        otpInputs.forEach((input) => {
          otp += input.value;
        });
        console.log("Verifying OTP:", otp);
        // Add your backend OTP verification logic here
        // On success, redirect to the dashboard or login page.
      });
    </script>
  </body>
</html>